function defer(e){if(window.jQuery)e();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://cdn.doke.app/doke-reviews/jquery.min.js",document.getElementsByTagName("head")[0].appendChild(t),setTimeout(function(){defer(e)},50)}}defer(function(){var e,t,i;e="undefined"!=typeof window?window:this,t=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},r=i[e]=i[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var r=i.indexOf(t);return-1!=r&&i.splice(r,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var n=i[o];r&&r[n]&&(this.off(e,n),delete r[n]),n.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e},"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t(),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function r(e,t,o){if(!(this instanceof r))return new r(e,t,o);var n=e;return"string"==typeof e&&(n=document.querySelectorAll(e)),n?(this.elements=function(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?d.call(e):[e]}(n),this.options=i({},this.options),"function"==typeof t?o=t:i(this.options,t),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void s.error("Bad element for imagesLoaded "+(n||e))}function o(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}var a=e.jQuery,s=e.console,d=Array.prototype.slice;r.prototype=Object.create(t.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&l[t]){for(var i=e.querySelectorAll("img"),r=0;r<i.length;r++){var o=i[r];this.addImage(o)}if("string"==typeof this.options.background){var n=e.querySelectorAll(this.options.background);for(r=0;r<n.length;r++){var a=n[r];this.addElementBackgroundImages(a)}}}};var l={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,r=i.exec(t.backgroundImage);null!==r;){var o=r&&r[2];o&&this.addBackground(o,e),r=i.exec(t.backgroundImage)}},r.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},r.prototype.addBackground=function(e,t){var i=new n(e,t);this.images.push(i)},r.prototype.check=function(){function e(e,i,r){setTimeout(function(){t.progress(e,i,r)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},r.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,e,t)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o.prototype=Object.create(t.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype=Object.create(o.prototype),n.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((a=t).fn.imagesLoaded=function(e,t){return new r(this,e,t).jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r}),i=function(e){var t,i,r,o,n,a,s="Close",d="BeforeClose",l="MarkupParse",u="Open",v="Change",c="mfp",h="."+c,p="mfp-ready",m="mfp-removing",f="mfp-prevent-close",g=function(){},_=!!window.jQuery,k=e(window),w=function(e,i){t.ev.on(c+e+h,i)},b=function(t,i,r,o){var n=document.createElement("div");return n.className="mfp-"+t,r&&(n.innerHTML=r),o?i&&i.appendChild(n):(n=e(n),i&&n.appendTo(i)),n},y=function(i,r){t.ev.triggerHandler(c+i,r),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(r)?r:[r]))},x=function(i){return i===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=i),t.currTemplate.closeBtn},C=function(){e.magnificPopup.instance||((t=new g).init(),e.magnificPopup.instance=t)};g.prototype={constructor:g,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document),t.popupsCache={}},open:function(i){var o;if(!1===i.isObj){t.items=i.items.toArray(),t.index=0;var a,s=i.items;for(o=0;o<s.length;o++)if((a=s[o]).parsed&&(a=a.el[0]),a===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(!t.isOpen){t.types=[],n="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=r,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=b("bg").on("click"+h,function(){t.close()}),t.wrap=b("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=b("container",t.wrap)),t.contentContainer=b("content"),t.st.preloader&&(t.preloader=b("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(o=0;o<d.length;o++){var v=d[o];v=v.charAt(0).toUpperCase()+v.slice(1),t["init"+v].call(t)}y("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(w(l,function(e,t,i,r){i.close_replaceWith=x(r.type)}),n+=" mfp-close-btn-in"):t.wrap.append(x())),t.st.alignTop&&(n+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:k.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),k.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(n+=" mfp-auto-cursor"),n&&t.wrap.addClass(n);var c=t.wH=k.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(c)){var f=t._getScrollbarSize();f&&(m.marginRight=f)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var g=t.st.mainClass;return t.isIE7&&(g+=" mfp-ie7"),g&&t._addClassToMFP(g),t.updateItemHTML(),y("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(p),t._setFocus()):t.bgOverlay.addClass(p),r.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(c),y(u),i}t.updateItemHTML()},close:function(){t.isOpen&&(y(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(m),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){y(s);var i=m+" "+p+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}r.off("keyup.mfp focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),t.st.showCloseBtn&&(!t.st.closeBtnInside||!0===t.currTemplate[t.currItem.type])&&t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,y("AfterClose")},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*i;t.wrap.css("height",r),t.wH=r}else t.wH=e||k.height();t.fixedContentPos||t.wrap.css("height",t.wH),y("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var r=i.type;if(y("BeforeChange",[t.currItem?t.currItem.type:"",r]),t.currItem=i,!t.currTemplate[r]){var n=!!t.st[r]&&t.st[r].markup;y("FirstMarkupParse",n),t.currTemplate[r]=!n||e(n)}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var a=t["get"+r.charAt(0).toUpperCase()+r.slice(1)](i,t.currTemplate[r]);t.appendContent(a,r),i.preloaded=!0,y(v,i),o=i.type,t.container.prepend(t.contentContainer),y("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]?t.content.find(".mfp-close").length||t.content.append(x()):t.content=e:t.content="",y("BeforeAppend"),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var r,o=t.items[i];if(o.tagName?o={el:e(o)}:(r=o.type,o={data:o,src:o.src}),o.el){for(var n=t.types,a=0;a<n.length;a++)if(o.el.hasClass("mfp-"+n[a])){r=n[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=r||t.st.type||"inline",o.index=i,o.parsed=!0,t.items[i]=o,y("ElementParse",o),t.items[i]},addGroup:function(e,i){var r=function(r){r.mfpEl=this,t._openClick(r,e,i)};i||(i={});var o="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(o).on(o,r)):(i.isObj=!1,i.delegate?e.off(o).on(o,i.delegate,r):(i.items=e,e.off(o).on(o,r)))},_openClick:function(i,r,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var n=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(n)if(e.isFunction(n)){if(!n.call(t))return!0}else if(k.width()<n)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),o.el=e(i.mfpEl),o.delegate&&(o.items=r.find(o.delegate)),t.open(o)}},updateStatus:function(e,r){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),!r&&"loading"===e&&(r=t.st.tLoading);var o={status:e,text:r};y("UpdateStatus",o),e=o.status,r=o.text,t.preloader.html(r),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(f)){var r=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(r&&o)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(r)return!0}else if(o&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||k.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){if(i.target!==t.wrap[0]&&!e.contains(t.wrap[0],i.target))return t._setFocus(),!1},_parseMarkup:function(t,i,r){var o;r.data&&(i=e.extend(r.data,i)),y(l,[t,i,r]),e.each(i,function(i,r){if(void 0===r||!1===r)return!0;if((o=i.split("_")).length>1){var n=t.find(h+"-"+o[0]);if(n.length>0){var a=o[1];"replaceWith"===a?n[0]!==r[0]&&n.replaceWith(r):"img"===a?n.is("img")?n.attr("src",r):n.replaceWith(e("<img>").attr("src",r).attr("class",n.attr("class"))):n.attr(o[1],r)}}else t.find(h+"-"+i).html(r)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:g.prototype,modules:[],open:function(t,i){return C(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){C();var r=e(this);if("string"==typeof i)if("open"===i){var o,n=_?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;n.items?o=n.items[a]:(o=r,n.delegate&&(o=o.find(n.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},r,n)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),_?r.data("magnificPopup",i):r[0].magnificPopup=i,t.addGroup(r,i);return r};var E,I,T,S="inline",F=function(){T&&(I.after(T.addClass(E)).detach(),T=null)};e.magnificPopup.registerModule(S,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(S),w(s+"."+S,function(){F()})},getInline:function(i,r){if(F(),i.src){var o=t.st.inline,n=e(i.src);if(n.length){var a=n[0].parentNode;a&&a.tagName&&(I||(E=o.hiddenClass,I=b(E),E="mfp-"+E),T=n.after(I).detach().removeClass(E)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),n=e("<div>");return i.inlineElement=n,n}return t.updateStatus("ready"),t._parseMarkup(r,{},i),r}}});var q,z="ajax",L=function(){q&&e(document.body).removeClass(q)},A=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(z),q=t.st.ajax.cursor,w(s+"."+z,A),w("BeforeChange."+z,A)},getAjax:function(i){q&&e(document.body).addClass(q),t.updateStatus("loading");var r=e.extend({url:i.src,success:function(r,o,n){var a={data:r,xhr:n};y("ParseAjax",a),t.appendContent(e(a.data),z),i.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(p)},16),t.updateStatus("ready"),y("AjaxContentAdded")},error:function(){L(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var P,R,j=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var r=t.st.image.titleSrc;if(r){if(e.isFunction(r))return r.call(t,i);if(i.el)return i.el.attr(r)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,r=".image";t.types.push("image"),w(u+r,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),w(s+r,function(){i.cursor&&e(document.body).removeClass(i.cursor),k.off("resize"+h)}),w("Resize"+r,t.resizeImage),t.isLowIE&&w("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,P&&clearInterval(P),e.isCheckingImgSize=!1,y("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,r=e.img[0],o=function(n){P&&clearInterval(P),P=setInterval(function(){r.naturalWidth>0?t._onImageHasSize(e):(i>200&&clearInterval(P),3===++i?o(10):40===i?o(50):100===i&&o(500))},n)};o(1)},getImage:function(i,r){var o=0,n=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,y("ImageLoadComplete")):++o<200?setTimeout(n,100):a())},a=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",s.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},s=t.st.image,d=r.find(".mfp-img");if(d.length){var l=document.createElement("img");l.className="mfp-img",i.el&&i.el.find("img").length&&(l.alt=i.el.find("img").attr("alt")),i.img=e(l).on("load.mfploader",n).on("error.mfploader",a),l.src=i.src,d.is("img")&&(i.img=i.img.clone()),(l=i.img[0]).naturalWidth>0?i.hasSize=!0:l.width||(i.hasSize=!1)}return t._parseMarkup(r,{title:j(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(P&&clearInterval(P),i.loadError?(r.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",i.src))):(r.removeClass("mfp-loading"),t.updateStatus("ready")),r):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,r.addClass("mfp-loading"),t.findImageSize(i)),r)}}}),e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,r=".zoom";if(i.enabled&&t.supportsTransition){var o,n,a=i.duration,l=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return o["-webkit-"+n]=o["-moz-"+n]=o["-o-"+n]=o[n]=r,t.css(o),t},u=function(){t.content.css("visibility","visible")};w("BuildControls"+r,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void u();(n=l(e)).css(t._getOffset()),t.wrap.append(n),o=setTimeout(function(){n.css(t._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){n.remove(),e=n=null,y("ZoomAnimationEnded")},16)},a)},16)}}),w(d+r,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(!(e=t._getItemToZoom()))return;n=l(e)}n.css(t._getOffset(!0)),t.wrap.append(n),t.content.css("visibility","hidden"),setTimeout(function(){n.css(t._getOffset())},16)}}),w(s+r,function(){t._allowZoom()&&(u(),n&&n.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var r,o=(r=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),n=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);o.top-=e(window).scrollTop()-n;var s={width:r.width(),height:(_?r.innerHeight():r[0].offsetHeight)-a-n};return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var D="iframe",O=function(e){if(t.currTemplate[D]){var i=t.currTemplate[D].find("iframe");i.length&&(e||(i[0].src="//about:blank"),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(D,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(D),w("BeforeChange",function(e,t,i){t!==i&&(t===D?O():i===D&&O(!0))}),w(s+"."+D,function(){O()})},getIframe:function(i,r){var o=i.src,n=t.st.iframe;e.each(n.patterns,function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var a={};return n.srcAction&&(a[n.srcAction]=o),t._parseMarkup(r,a,i),t.updateStatus("ready"),r}}});var M=function(e){var i=t.items.length;return e>i-1?e-i:e<0?i+e:e},N=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,o=".mfp-gallery";if(t.direction=!0,!i||!i.enabled)return!1;n+=" mfp-gallery",w(u+o,function(){i.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),r.on("keydown"+o,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),w("UpdateStatus"+o,function(e,i){i.text&&(i.text=N(i.text,t.currItem.index,t.items.length))}),w(l+o,function(e,r,o,n){var a=t.items.length;o.counter=a>1?N(i.tCounter,n.index,a):""}),w("BuildControls"+o,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var r=i.arrowMarkup,o=t.arrowLeft=e(r.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(f),n=t.arrowRight=e(r.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(f);o.click(function(){t.prev()}),n.click(function(){t.next()}),t.container.append(o.add(n))}}),w(v+o,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),w(s+o,function(){r.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=M(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=M(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,r=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:r);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?r:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=M(i),!t.items[i].preloaded){var r=t.items[i];r.parsed||(r=t.parseEl(i)),y("LazyLoad",r),"image"===r.type&&(r.img=e('<img class="mfp-img" />').on("load.mfploader",function(){r.hasSize=!0}).on("error.mfploader",function(){r.hasSize=!0,r.loadError=!0,y("LazyLoadError",r)}).attr("src",r.src)),r.preloaded=!0}}}});var B="retina";e.magnificPopup.registerModule(B,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;(i=isNaN(i)?i():i)>1&&(w("ImageHasSize."+B,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),w("ElementParse."+B,function(t,r){r.src=e.replaceSrc(r,i)}))}}}}),C()},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?i(require("jquery")):i(window.jQuery||window.Zepto),$.fn.sliderResponsive=function(e){var t,i,r=$.extend({anim:300,pause:3e3,autoplay:null,ratio:null,ulClass:"dokerv-carousel__item-wrapper",nextClass:"dokerv-carousel__right-arrow",prevClass:"dokerv-carousel__left-arrow"},e),o=$(this),n=o.parent().find("."+r.nextClass),a=o.parent().find("."+r.prevClass),s=o.find("."+r.ulClass),d=s.find(">.dokerv-carousel-item"),l=d.length,u=o.height()/o.width();function v(){t=o.width()/3,d.width(t),s.width(l*t),s.css("left",-t),"keep"===r.ratio&&(i=Math.round(3*t*u),o.height(i))}function c(){s.animate({"margin-left":"-="+t},r.anim,function(){var e=$(this);e.find(">.dokerv-carousel-item:first-of-type").appendTo(e),e.css("margin-left",0)})}return o.css("overflow","hidden"),s.find(">.dokerv-carousel-item:last-of-type").prependTo(s),s.css({height:"100%",position:"relative"}),d.css({height:"100%",float:"left"}),v(),$(window).resize(v),"on"===r.autoplay&&setInterval(function(){c()},r.pause),n.on("click",c),a.on("click",function(){s.animate({"margin-left":"+="+t},r.anim,function(){var e=$(this);e.find(">.dokerv-carousel-item:last-of-type").prependTo(e),e.css("margin-left",0)})}),o},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r,o;return!i.settings.submitHandler||(i.submitButton&&(r=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),o=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),void 0!==o&&o)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i;return e(this[0]).is("form")?t=this.validate().form():(t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return e.each(t.split(/\s/),function(e,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var r,o,n,a,s,d,l=this[0];if(t)switch(r=e.data(l.form,"validator").settings,o=r.rules,n=e.validator.staticRules(l),t){case"add":e.extend(n,e.validator.normalizeRule(i)),delete n.messages,o[l.name]=n,i.messages&&(r.messages[l.name]=e.extend(r.messages[l.name],i.messages));break;case"remove":return i?(d={},e.each(i.split(/\s/),function(t,i){d[i]=n[i],delete n[i],"required"===i&&e(l).removeAttr("aria-required")}),d):(delete o[l.name],n)}return(a=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l)).required&&(s=a.required,delete a.required,a=e.extend({required:s},a),e(l).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):e(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):e(t).removeClass(i).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,""),o=i.settings;o[r]&&!this.is(o.ignore)&&o[r].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){r[i]=t})}),i=this.settings.rules,e.each(i,function(t,r){i[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i=this.clean(t),r=this.validationTargetFor(i),o=!0;return this.lastElement=r,void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=e(r),(o=!1!==this.check(r))?delete this.invalid[r.name]:this.invalid[r.name]=!0),e(t).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(t){if(t){for(var i in e.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,r=e(t),o=t.type;return"radio"===o||"checkbox"===o?e("input[name='"+t.name+"']:checked").val():"number"===o&&void 0!==t.validity?!t.validity.badInput&&r.val():"string"==typeof(i=r.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,o,n=e(t).rules(),a=e.map(n,function(e,t){return t}).length,s=!1,d=this.elementValue(t);for(r in n){o={method:r,parameters:n[r]};try{if("dependency-mismatch"===(i=e.validator.methods[r].call(this,d,t,o.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,o),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",e),e}}if(!s)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),o=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):o.test(r)&&(r=e.validator.format(r.replace(o,"{$1}"),i.parameters)),this.errorList.push({message:r,element:t,method:i.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r,o,n,a=this.errorsFor(t),s=this.idOrName(t),d=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(r=a=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+s+"']").length&&(n=a.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),d?d.match(new RegExp("\\b"+n+"\\b"))||(d+=" "+n):d=n,e(t).attr("aria-describedby",d),(o=this.groups[t.name])&&e.each(this.groups,function(t,i){i===o&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var i=this.idOrName(t),r=e(t).attr("aria-describedby"),o="label[for='"+i+"'], label[for='"+i+"'] *";return r&&(o=o+", #"+r.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i,r,o={},n=e(t),a=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(r=t.getAttribute(i))&&(r=!0),r=!!r):r=n.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(r=Number(r)),r||0===r?o[i]=r:a===i&&"range"!==a&&(o[i]=!0);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var i,r,o={},n=e(t);for(i in e.validator.methods)void 0!==(r=n.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(o[i]=r);return o},staticRules:function(t){var i={},r=e.data(t.form,"validator");return r.settings.rules&&(i=e.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(r,o){if(!1!==o){if(o.param||o.depends){var n=!0;switch(typeof o.depends){case"string":n=!!e(o.depends,i.form).length;break;case"function":n=o.depends.call(i,i)}n?t[r]=void 0===o.param||o.param:delete t[r]}}else delete t[r]}),e.each(t,function(r,o){t[r]=e.isFunction(o)?o(i):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==r?r:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=e(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,r,o=0,n=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)r=e.charAt(i),n=parseInt(r,10),a&&(n*=2)>9&&(n-=9),o+=n,a=!a;return o%10==0},minlength:function(t,i,r){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=r},maxlength:function(t,i,r){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=o},rangelength:function(t,i,r){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=r[0]&&o<=r[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,r){var o=e(r);return this.settings.onfocusout&&o.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===o.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var o,n,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,r="string"==typeof r&&{url:r}||r,a.old===t?a.valid:(a.old=t,o=this,this.startRequest(i),(n={})[i.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:n,context:o.currentForm,success:function(r){var n,s,d,l=!0===r||"true"===r;o.settings.messages[i.name].remote=a.originalMessage,l?(d=o.formSubmitted,o.prepareElement(i),o.formSubmitted=d,o.successList.push(i),delete o.invalid[i.name],o.showErrors()):(n={},s=r||o.defaultMessage(i,"remote"),n[i.name]=a.message=e.isFunction(s)?s(t):s,o.invalid[i.name]=!0,o.showErrors(n)),a.valid=l,o.stopRequest(i,l)}},r)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,r){var o=e.port;"abort"===e.mode&&(i[o]&&i[o].abort(),i[o]=r)}):(t=e.ajax,e.ajax=function(r){var o=("mode"in r?r:e.ajaxSettings).mode,n=("port"in r?r:e.ajaxSettings).port;return"abort"===o?(i[n]&&i[n].abort(),i[n]=t.apply(this,arguments),i[n]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var o=e(i.target);return o.is(t)?r.apply(o,arguments):void 0})}})}),$.validator.addMethod("regex",function(e,t,i){var r=new RegExp(i);return this.optional(t)||r.test(e)},"Please check your input."),function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,function(e,t){"use strict";function i(i,n,s){(s=s||t||e.jQuery)&&(n.prototype.option||(n.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),s.fn[i]=function(e){return"string"==typeof e?function(e,t,r){var o,n="$()."+i+'("'+t+'")';return e.each(function(e,d){var l=s.data(d,i);if(l){var u=l[t];if(u&&"_"!=t.charAt(0)){var v=u.apply(l,r);o=void 0===o?v:o}else a(n+" is not a valid method")}else a(i+" not initialized. Cannot call methods, i.e. "+n)}),void 0!==o?o:e}(this,e,o.call(arguments,1)):(function(e,t){e.each(function(e,r){var o=s.data(r,i);o?(o.option(t),o._init()):(o=new n(r,t),s.data(r,i,o))})}(this,e),this)},r(s))}function r(e){!e||e&&e.bridget||(e.bridget=i)}var o=Array.prototype.slice,n=e.console,a=void 0===n?function(){}:function(e){n.error(e)};return r(t||e.jQuery),i}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},r=i[e]=i[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var r=i.indexOf(t);return-1!=r&&i.splice(r,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var n=i[o];r&&r[n]&&(this.off(e,n),delete r[n]),n.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(e){var t=getComputedStyle(e);return t||n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function i(){if(!d){d=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(i);var a=t(i);o=200==Math.round(e(a.width)),r.isBoxSizeOuter=o,n.removeChild(i)}}function r(r){if(i(),"string"==typeof r&&(r=document.querySelector(r)),r&&"object"==typeof r&&r.nodeType){var n=t(r);if("none"==n.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;s>t;t++)e[a[t]]=0;return e}();var d={};d.width=r.offsetWidth,d.height=r.offsetHeight;for(var l=d.isBorderBox="border-box"==n.boxSizing,u=0;s>u;u++){var v=a[u],c=n[v],h=parseFloat(c);d[v]=isNaN(h)?0:h}var p=d.paddingLeft+d.paddingRight,m=d.paddingTop+d.paddingBottom,f=d.marginLeft+d.marginRight,g=d.marginTop+d.marginBottom,_=d.borderLeftWidth+d.borderRightWidth,k=d.borderTopWidth+d.borderBottomWidth,w=l&&o,b=e(n.width);!1!==b&&(d.width=b+(w?0:p+_));var y=e(n.height);return!1!==y&&(d.height=y+(w?0:m+k)),d.innerWidth=d.width-(p+_),d.innerHeight=d.height-(m+k),d.outerWidth=d.width+f,d.outerHeight=d.height+g,d}}var o,n="undefined"==typeof console?function(){}:function(e){console.error(e)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=a.length,d=!1;return r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var r=t[i]+"MatchesSelector";if(e[r])return r}}();return function(t,i){return t[e](i)}}),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,function(e,t){var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;i.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?r.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,r){e=i.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(!r)return void o.push(e);t(e,r)&&o.push(e);for(var i=e.querySelectorAll(r),n=0;n<i.length;n++)o.push(i[n])}}),o},i.debounceMethod=function(e,t,i){i=i||100;var r=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,n=this;this[o]=setTimeout(function(){r.apply(n,t),delete n[o]},i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var o=e.console;return i.htmlInit=function(t,r){i.docReady(function(){var n=i.toDashed(r),a="data-"+n,s=document.querySelectorAll("["+a+"]"),d=document.querySelectorAll(".js-"+n),l=i.makeArray(s).concat(i.makeArray(d)),u=a+"-options",v=e.jQuery;l.forEach(function(e){var i,n=e.getAttribute(a)||e.getAttribute(u);try{i=n&&JSON.parse(n)}catch(t){return void(o&&o.error("Error parsing "+a+" on "+e.className+": "+t))}var s=new t(e,i);v&&v.data(e,r,s)})})},i}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";function i(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var r=document.documentElement.style,o="string"==typeof r.transition?"transition":"WebkitTransition",n="string"==typeof r.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],s={transform:n,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},d=i.prototype=Object.create(e.prototype);d.constructor=i,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.getSize=function(){this.size=t(this.element)},d.css=function(e){var t=this.element.style;for(var i in e){t[s[i]||i]=e[i]}},d.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=e[t?"left":"right"],o=e[i?"top":"bottom"],n=parseFloat(r),a=parseFloat(o),s=this.layout.size;-1!=r.indexOf("%")&&(n=n/100*s.width),-1!=o.indexOf("%")&&(a=a/100*s.height),n=isNaN(n)?0:n,a=isNaN(a)?0:a,n-=t?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=n,this.position.y=a},d.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",n=i?"left":"right",a=i?"right":"left",s=this.position.x+e[o];t[n]=this.getXValue(s),t[a]="";var d=r?"paddingTop":"paddingBottom",l=r?"top":"bottom",u=r?"bottom":"top",v=this.position.y+e[d];t[l]=this.getYValue(v),t[u]="",this.css(t),this.emitEvent("layout",[this])},d.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},d.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},d._transitionTo=function(e,t){this.getPosition();var i=this.position.x,r=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var n=e-i,a=t-r,s={};s.transform=this.getTranslate(n,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},d.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},d.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},d._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},d.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var l="opacity,"+function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}(n);d.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:l,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},d.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},d.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};d.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=u[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},d._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var v={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(v)},d.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,r,o,n){return t(e,i,r,o,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,i,r,o){"use strict";function n(e,t){var i=r.getQueryElement(e);if(i){this.element=i,d&&(this.$element=d(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var o=++u;this.element.outlayerGUID=o,v[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||e))}function a(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}var s=e.console,d=e.jQuery,l=function(){},u=0,v={};n.namespace="outlayer",n.Item=o,n.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=n.prototype;r.extend(c,t.prototype),c.option=function(e){r.extend(this.options,e)},c._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},n.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,r=[],o=0;o<t.length;o++){var n=new i(t[o],this);r.push(n)}return r},c._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(e){return e.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(e,t){var r,o=this.options[e];o?("string"==typeof o?r=this.element.querySelector(o):o instanceof HTMLElement&&(r=o),this[e]=r?i(r)[t]:o):this[e]=0},c.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},c._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},c._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach(function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,i.push(r)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},c.updateStagger=function(){var e=this.options.stagger;return null==e?void(this.stagger=0):(this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],r=t&&t[2];return i.length?(i=parseFloat(i))*(h[r]||1):0}(e),this.stagger)},c._positionItem=function(e,t,i,r,o){r?e.goTo(t,i):(e.stagger(o*this.stagger),e.moveTo(t,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=l,c._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},c._emitCompleteOnItems=function(e,t){function i(){o.dispatchEvent(e+"Complete",null,[t])}function r(){++a==n&&i()}var o=this,n=t.length;if(t&&n){var a=0;t.forEach(function(t){t.once(e,r)})}else i()},c.dispatchEvent=function(e,t,i){var r=t?[t].concat(i):i;if(this.emitEvent(e,r),d)if(this.$element=this.$element||d(this.element),t){var o=d.Event(t);o.type=e,this.$element.trigger(o,i)}else this.$element.trigger(e,i)},c.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},c.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},c.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},c.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){r.removeFrom(this.stamps,e),this.unignore(e)},this)},c._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},c._manageStamp=l,c._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,o=i(e);return{left:t.left-r.left-o.marginLeft,top:t.top-r.top-o.marginTop,right:r.right-t.right-o.marginRight,bottom:r.bottom-t.bottom-o.marginBottom}},c.handleEvent=r.handleEvent,c.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},r.debounceMethod(n,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},c.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},c.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},c.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},c.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.reveal()})}},c.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.hide()})}},c.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},c.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},c.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},c.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach(function(e){var i=this.getItem(e);i&&t.push(i)},this),t},c.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),r.removeFrom(this.items,e)},this)},c.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete v[t],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},n.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&v[t]},n.create=function(e,t){var i=a(n);return i.defaults=r.extend({},n.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},n.compatOptions),i.namespace=e,i.data=n.data,i.Item=a(o),r.htmlInit(i,e),d&&d.bridget&&d.bridget(e,i),i};var h={ms:1,s:1e3};return n.Item=o,n}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var i=e.create("masonry");i.compatOptions.fitWidth="isFitWidth";var r=i.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,n=o/r,a=r-o%r;n=Math[a&&1>a?"round":"floor"](n),this.cols=Math.max(n,1)},r.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},r._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&1>t?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),o={x:this.columnWidth*r.col,y:r.y},n=r.y+e.size.outerHeight,a=i+r.col,s=r.col;a>s;s++)this.colYs[s]=n;return o},r._getTopColPosition=function(e){var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},r._getTopColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,r=0;i>r;r++)t[r]=this._getColGroupY(r,e);return t},r._getColGroupY=function(e,t){if(2>t)return this.colYs[e];var i=this.colYs.slice(e,e+t);return Math.max.apply(Math,i)},r._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols;i=e>1&&i+e>this.cols?0:i;var r=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=r?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},r._manageStamp=function(e){var i=t(e),r=this._getElementOffset(e),o=this._getOption("originLeft")?r.left:r.right,n=o+i.outerWidth,a=Math.floor(o/this.columnWidth);a=Math.max(0,a);var s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var d=(this._getOption("originTop")?r.top:r.bottom)+i.outerHeight,l=a;s>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},r._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?e(require("jquery")):e(jQuery)}(function(e){e.timeago=function(t){return t instanceof Date?o(t):o("string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var t=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"trước",suffixFromNow:"vừa mới",inPast:"any moment now",seconds:"1 phút",minute:"vài phút",minutes:"%d phút",hour:"1 giờ",hours:"%d giờ",day:"1 ngày",days:"%d ngày",month:"1 tháng",months:"%d tháng",year:"1 năm",years:"%d năm",wordSeparator:" ",numbers:[]}},inWords:function(t){if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;if(this.settings.allowFuture&&t<0&&(r=i.prefixFromNow,o=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var n=Math.abs(t)/1e3,a=n/60,s=a/60,d=s/24,l=d/365;function u(r,o){var n=e.isFunction(r)?r(o,t):r,a=i.numbers&&i.numbers[o]||o;return n.replace(/%d/i,a)}var v=n<45&&u(i.seconds,Math.round(n))||n<90&&u(i.minute,1)||a<45&&u(i.minutes,Math.round(a))||a<90&&u(i.hour,1)||s<24&&u(i.hours,Math.round(s))||s<42&&u(i.day,1)||d<30&&u(i.days,Math.round(d))||d<45&&u(i.month,1)||d<365&&u(i.months,Math.round(d/30))||l<1.5&&u(i.year,1)||u(i.years,Math.round(l)),c=i.wordSeparator||"";return void 0===i.wordSeparator&&(c=" "),e.trim([r,v,o].join(c))},parse:function(t){var i=e.trim(t);return i=(i=(i=(i=(i=i.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(i){var r=t.isTime(i)?e(i).attr("datetime"):e(i).attr("title");return t.parse(r)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var i={init:function(){i.dispose.call(this);var o=e.proxy(r,this);o();var n=t.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(o,n.refreshMillis))},update:function(i){var o=i instanceof Date?i:t.parse(i);e(this).data("timeago",{datetime:o}),t.settings.localeTitle&&e(this).attr("title",o.toLocaleString()),r.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:t.parse(t.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),r.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};function r(){var i=t.settings;if(i.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var r=function(i){if(!(i=e(i)).data("timeago")){i.data("timeago",{datetime:t.datetime(i)});var r=e.trim(i.text());t.settings.localeTitle?i.attr("title",i.data("timeago").datetime.toLocaleString()):!(r.length>0)||t.isTime(i)&&i.attr("title")||i.attr("title",r)}return i.data("timeago")}(this);return isNaN(r.datetime)||(0===i.cutoff||Math.abs(n(r.datetime))<i.cutoff?e(this).text(o(r.datetime)):e(this).attr("title").length>0&&e(this).text(e(this).attr("title"))),this}function o(e){return t.inWords(n(e))}function n(e){return(new Date).getTime()-e.getTime()}e.fn.timeago=function(e,t){var r=e?i[e]:i.init;if(!r)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){r.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),dkrv=window.dkrv||{},function(e){dkrv={init:function(){e(".dokerv-widget").length>0&&this.product_review.init(),e("#dokerv_revs_tab").length>0&&this.tab_review.init(),e("#dokerv_all_reviews_page").length>0&&this.page_all_reviews.init(),e(".doke_page__reviews-slider").length>0&&this.page_slider.init(),this.common.init()}},dkrv.API="https://reviews-srv-hrv.doke.app",dkrv.shopName=Haravan.shop.split(".myharavan")[0],dkrv.shopURL=Haravan.shop,dkrv.SETTING={hidden_star_when_no_review:!0,allow_review_by_image:!0,allow_review_by_video:!0,theme:{template:"default",pagination:5,show_title_review:!0,show_timestamp_review:!0,show_author_review:!0,show_verified_buyer:!0,show_images_review:!0,show_video_review:!0,show_sortBy:!0,show_question_featured:!0,show_share_social:!0,show_like_dislike:!0,show_reply:!0,color_star:"#f7d805",color_verified_buyer:"#22b345",color_histogram:"#f7d805",color_bg_avatar:"#e9e9e9"},translate:{widget_title:"Đánh giá sản phẩm",widget_des_short:"Dựa trên {reviews} đánh giá",widget_btn_review:"Viết đánh giá",widget_btn_question:"Đặt câu hỏi",widget_title_tab_review:"Đánh giá",widget_title_tab_question:"Câu hỏi & trả lời",widget_title_verified:"Đã chứng thực",widget_title_shopReply:"DOKE Store",form_review_label_name:"Tên",form_review_label_email:"Email",form_review_label_phone:"Số điện thoại",form_review_label_rating:"Đánh giá",form_review_label_avatar:"Ảnh đại diện",form_review_label_title:"Tiêu đề đánh giá",form_review_label_body:"Nội dung",form_review_label_images_video:"Hình ảnh (không bắt buộc)",form_review_btn_submit:"Gửi đánh giá",form_review_success:"Cảm ơn bạn đã gửi nhận xét! Vui lòng làm mới trang trong một vài phút để xem đánh giá của bạn.",form_question_label_name:"Tên",form_question_label_email:"Email",form_question_label_phone:"Số điện thoại",form_question_label_title:"Nội dung câu hỏi",form_question_btn_submit:"Gửi câu hỏi",form_question_success:"Cảm ơn bạn đã gửi câu hỏi! Vui lòng làm mới trang trong một vài phút để xem câu hỏi của bạn.",most_recent:{status:!0,title:"Mới nhất"},highest_rating:{status:!0,title:"Đánh giá cao nhất"},lowest_rating:{status:!0,title:"Đánh giá thấp nhất"},with_pictures:{status:!0,title:"Chỉ hình ảnh"},pictures_first:{status:!0,title:"Ưu tiên hình ảnh"},videos_first:{status:!0,title:"Chỉ video"},most_helpful:{status:!0,title:"Hữu ích"}}},dkrv.templates={noReviewForm:function(){var e=[];return e.push("<div class='dokerv-rev-widg' data-average-rating='0.00' data-number-of-reviews='0' data-number-of-questions='0'> <style class='dokerv-temp-hiding-style'>.dokerv-rev-widg{ display: none }</style> <div class='dokerv-rev-widg__header'> <h2 class='dokerv-rev-widg__title'>Customer Reviews</h2>  <div class='dokerv-rev-widg__summary'> <div class='dokerv-rev-widg__summary-stars'> <a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a> </div> <div class='dokerv-rev-widg__summary-text'>No reviews yet</div> </div> <a href='#' class='dokerv-ask-question-btn'>Ask a question</a> <a href='#' class='dokerv-write-rev-link'>Write a review</a> <div class='dokerv-histogram dokerv-temp-hidden'>  <div class='dokerv-histogram__row' data-rating='5' data-frequency='0' data-percentage='0'> <div class='dokerv-histogram__star'><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a></div> <div class='dokerv-histogram__bar'> <div class='dokerv-histogram__bar-content' style='width: 0%;'> </div> </div> <div class='dokerv-histogram__percentage'>0%</div> <div class='dokerv-histogram__frequency'>(0)</div> </div>  <div class='dokerv-histogram__row' data-rating='4' data-frequency='0' data-percentage='0'> <div class='dokerv-histogram__star'><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--off'></a></div> <div class='dokerv-histogram__bar'> <div class='dokerv-histogram__bar-content' style='width: 0%;'> </div> </div> <div class='dokerv-histogram__percentage'>0%</div> <div class='dokerv-histogram__frequency'>(0)</div> </div>  <div class='dokerv-histogram__row' data-rating='3' data-frequency='0' data-percentage='0'> <div class='dokerv-histogram__star'><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a></div> <div class='dokerv-histogram__bar'> <div class='dokerv-histogram__bar-content' style='width: 0%;'> </div> </div> <div class='dokerv-histogram__percentage'>0%</div> <div class='dokerv-histogram__frequency'>(0)</div> </div>  <div class='dokerv-histogram__row' data-rating='2' data-frequency='0' data-percentage='0'> <div class='dokerv-histogram__star'><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a></div> <div class='dokerv-histogram__bar'> <div class='dokerv-histogram__bar-content' style='width: 0%;'> </div> </div> <div class='dokerv-histogram__percentage'>0%</div> <div class='dokerv-histogram__frequency'>(0)</div> </div>  <div class='dokerv-histogram__row' data-rating='1' data-frequency='0' data-percentage='0'> <div class='dokerv-histogram__star'><a class='dokerv-star dokerv--on'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a><a class='dokerv-star dokerv--off'></a></div> <div class='dokerv-histogram__bar'> <div class='dokerv-histogram__bar-content' style='width: 0%;'> </div> </div> <div class='dokerv-histogram__percentage'>0%</div> <div class='dokerv-histogram__frequency'>(0)</div> </div>  <div class='dokerv-histogram__row dokerv-histogram__clear-filter' data-rating=null></div> </div> <div class='dokerv-rev-widg__sort-wrapper'></div> </div> <div class='dokerv-rev-widg__body'> <div class='dokerv-rev-widg__reviews'></div> <div class='dokerv-paginate' data-per-page='5' data-url='https://doke.vn/reviews/reviews_for_widget'></div> </div> <div class='dokerv-rev-widg__paginate-spinner-wrapper'> <div class='dokerv-spinner'></div> </div> </div>"),e.join("")},subtab:function(){var e=[];return e.push('<div class="dokerv-subtab"> <span class="dokerv-subtab__name dokerv--active" data-tabname="reviews"> Reviews <span class="dokerv-subtab__count">100</span> </span> <span class="dokerv-subtab__name" data-tabname="questions"> Questions <span class="dokerv-subtab__count">10</span> </span> </div>'),e.join("")},sortDropdown:function(){var e=[];return e.push('<div class="dokerv-sort-dropdown-wrapper"> <select class="dokerv-sort-dropdown"> <option value="most-recent">Most Recent</option> <option value="highest-rating">Highest Rating</option> <option value="lowest-rating">Lowest Rating</option> <option value="with-pictures">Only Pictures</option> <option value="pictures-first">Pictures first</option> <option value="videos-first">Videos first</option> <option value="most-helpful">Most Helpful</option> </select><span class="dokerv-sort-dropdown-arrow"></span> </div>'),e.join("")},review_form:function(){var e=[];return e.push('<div class="dokerv-rev__br"></div><div class="dokerv-form-wrapper" style="display: none;"> <form class="dokerv-form" novalidate="novalidate"> <div class="dokerv-form__name-fieldset"> <label>Tên <span>*</span></label> <input name="reviewer_name" type="text" placeholder="Nhập tên của bạn"> </div> <div class="dokerv-form__email-fieldset"> <label>Email <span>*</span></label> <input name="reviewer_email" type="email" required="" placeholder="hi@example.com" aria-required="true"> </div><div class="dokerv-form__phone-fieldset"> <label>Số điện thoại</label> <input name="reviewer_phone" type="phone" placeholder="Nhập số điện thoại của bạn" aria-required="true"> </div> <div class="dokerv-form__rating-fieldset"> <label>Đánh giá</label> <span class="dokerv-form__rating" tabindex="0" style="cursor: pointer;"><a data-alt="1" class="dokerv-star dokerv--on" title="1 star"></a><a data-alt="2" class="dokerv-star dokerv--on" title="2 stars"></a><a data-alt="3" class="dokerv-star dokerv--on" title="3 stars"></a><a data-alt="4" class="dokerv-star dokerv--on" title="4 stars"></a><a data-alt="5" class="dokerv-star dokerv--on" title="5 stars"></a><input name="score" type="hidden" value="5"></span> </div> <div class="dokerv-form__avatar-customer"> <label>Hình ảnh khách hàng</label> <input name="avatar" class="dokerv-avatar-fieldset__input" type="file" accept="image/gif,image/jpeg,image/jpg,image/png"> </div><div class="dokerv-form__title-fieldset"> <label>Tiêu đề đánh giá</label><span class="dokerv-countdown"></span> <input name="review_title" type="text" placeholder="Nhập tiêu đề đánh giá của bạn"> </div> <div class="dokerv-form__body-fieldset"> <label>Nội dung <span>*</span></label><span class="dokerv-countdown"></span> <textarea rows="5" name="review_body" placeholder="Viết nội dung đánh giá của bạn"></textarea> </div> <div class="dokerv-custom-forms"></div> <label class="dokerv-picture-fieldset-title">Hình ảnh (không bắt buộc)</label> <div class="dokerv-picture-fieldset"> <div class="dokerv-picture-fieldset__container dokerv-media-fieldset__container"> <label class="dokerv-picture-fieldset__box dokerv-picture-fieldset__box--input"> <div class="dokerv-picture-fieldset__box-wrapper"> <div class="dokerv-picture-fieldset__icon dokerv-photocamera-icon"> </div> </div> <input type="file" name="pictures" class="dokerv-picture-fieldset__input" multiple="" accept="image/gif,image/jpeg,image/jpg,image/png"> </label> </div> <div class="dokerv-video-fieldset__container dokerv-media-fieldset__container"> <label class="dokerv-picture-fieldset__box dokerv-picture-fieldset__box--input"> <div class="dokerv-picture-fieldset__box-wrapper"> <div class="dokerv-picture-fieldset__icon dokerv-videocam-icon"> </div> </div> <input type="file" name="video" class="dokerv-picture-fieldset__input" accept="video/mov,video/mp4,video/x-m4v,video/*"> </label> </div> </div> <input type="submit" class="dokerv-submit-rev btn btn_c button " value="Gửi đánh giá"> </form> </div>'),e.join("")},question_form:function(){var e=[];return e.push('<div class="dokerv-question-form-wrapper" style="display: none;"> <form class="dokerv-question-form"> <div class="dokerv-form__name-fieldset"> <label>Name</label> <input name="reviewer_name" type="text" maxlength="100" required="" placeholder="Nhập tên của bạn"> </div> <div class="dokerv-form__email-fieldset"> <label>Email</label> <input name="reviewer_email" type="email" required="" placeholder="hi@example.com"> </div> <div class="dokerv-form__phone-fieldset"> <label>Số điện thoại</label> <input name="reviewer_phone" type="phone" placeholder="Nhập số điện thoại của bạn" aria-required="true"> </div> <div class="dokerv-form__question-fieldset"> <label>Question</label> <span class="dokerv-countdown"></span><textarea rows="5" name="question_content" required="" placeholder="Viết câu hỏi của bạn"></textarea> </div> <input type="submit" class="dokerv-submit-question btn btn_c button " value="Submit Question"> </form> </div>'),e.join("")},success_form:function(){var e=[];return e.push('<div class="dokerv-notification">Thank you for submitting your review! Please refresh the page in a few moments to see your review.</div>'),e.join("")},success_form_question:function(){var e=[];return e.push('<div class="dokerv-notification">Thank you for submitting your question! Please refresh the page in a few moments to see your question.</div>'),e.join("")},picture_box:function(){var e=[];return e.push("<div class='dokerv-picture-fieldset__box dokerv-picture-fieldset__box--preview'>\n  <div class='dokerv-picture-fieldset__box-wrapper dokerv-is-uploading-picture'>\n <a class='dokerv-close-ico'></a>\n  <div class='dokerv-picture-fieldset__spinner-wrapper'>\n      <div class='dokerv-picture-fieldset__progress-text'></div>\n      <div class='dokerv-spinner'></div>\n </div>\n </div>\n</div>\n"),e.join("")},popup_requestLogin:function(){var e=[];return e.push('<div class="dokerv-popup dokerv-popup__overlay open"> <div class="dokerv-popup__box"> <h2>Đăng nhập</h2> <a class="close" href="#">&times;</a> <div class="content"> Bạn vui lòng <a href="/account/login" style="color:blue">Đăng nhập</a> để thực hiện chức năng này! </div> </div> </div>'),e.join("")},reply_form:function(){var e=[];return e.push('<div class="dokerv-quick__reply"> <textarea class="dokerv-review__comment-content" placeholder="Nhập nội dung trả lời tại đây. Tối đa 1000 từ"></textarea><button type="button" class="btn dokerv-submit__reply">Gửi trả lời của bạn</button><button type="button" class="btn dokerv-hide__reply">Hủy bỏ</button></div>'),e.join("")},no_review_badge:function(){var e=[];return e.push('<div class="dokerv-prev-badge" data-average-rating="0" data-number-of-reviews="0" data-number-of-questions="0"><span class="dokerv-prev-badgestars" data-score="0"><span class="dokerv-star dokerv--off"></span><span class="dokerv-star dokerv--off"></span><span class="dokerv-star dokerv--off"></span><span class="dokerv-star dokerv--off"></span><span class="dokerv-star dokerv--off"></span></span><span class="dokerv-prev-badgetext">0 đánh giá</span></div>'),e.join("")}},dkrv.common={init:function(){e(document).on("click",".dokerv-write-rev-link",function(t){t.preventDefault(),e(this).parent().find(".dokerv-question-form-wrapper").hide(),e(this).parent().find(".dokerv-form-wrapper").stop().toggle()}),e(document).on("mouseover",".dokerv-form__rating .dokerv-star",function(){e(this).removeClass("dokerv--off").addClass("dokerv--on").nextAll("a").removeClass("dokerv--on").addClass("dokerv--off"),e(this).prevAll("a").removeClass("dokerv--off").addClass("dokerv--on")}),e(document).on("keyup","input[name=review_title]",function(){e(this).prev(".dokerv-countdown").text("("+(100-this.value.length)+")")}),e(document).on("keyup","textarea[name=review_body]",function(){e(this).prev(".dokerv-countdown").text("("+(1500-this.value.length)+")")}),e(document).on("mouseout",".dokerv-form__rating .dokerv-star",function(){var t=Number(e(this).parents(".dokerv-form__rating-fieldset").find(".dokerv-form__rating input").val());e(this).parents(".dokerv-form__rating-fieldset").find(".dokerv-form__rating a").removeClass("dokerv--on").addClass("dokerv--off");for(var i=0;i<t;i++)e(this).parents(".dokerv-form__rating-fieldset").find(".dokerv-form__rating a").eq(i).addClass("dokerv--on").removeClass("dokerv--off")}),e(document).on("click",".dokerv-form__rating .dokerv-star",function(){e(this).removeClass("dokerv--off").addClass("dokerv--on").nextAll().removeClass("dokerv--on").addClass("dokerv--off");var t=e(this).attr("data-alt");e(this).parents(".dokerv-form__rating-fieldset").find(".dokerv-form__rating input").val(t),e(this).parents(".dokerv-form").find(".dokerv-form__title-fieldset input").focus()})},getReviews:function(t,i,r){e.ajax({url:t,type:"get",beforeSend:function(){"function"==typeof i&&i()},success:function(e,t,i){"function"==typeof r&&r(e,t,i)}})}},dkrv.product_review={init:function(){this.init_DOM(),this.checkReviewExist(function(e){e.init_SETTING(e)}),this.lazy_load(),this.load_timestamp(),this.subtab_event(),this.img_review_popup(),this.popup_img_rotate(),this.setup_pagination(),this.filter_review_histogram(),this.sortBy(),this.selectAvatar(),this.selectImages(),this.selectVideo(),this.submitReview(),this.submitQuestion(),this.shareReviewFor(),this.likeReview(),this.quickReplyReview(),this.badgeReviewScroll()},init_SETTING:function(t){null!=window.dkrvSetting&&e.extend(!0,dkrv.SETTING,window.dkrvSetting),t.setting=dkrv.SETTING,e(".dokerv-subtab").remove();var i=this.p.find(".dokerv-rev-widg").attr("data-number-of-reviews"),r=this.p.find(".dokerv-rev-widg").attr("data-number-of-questions");e(dkrv.templates.subtab()).insertBefore(".dokerv-rev-widg__body"),e(".dokerv-subtab__name[data-tabname=reviews] .dokerv-subtab__count").text(i),e(".dokerv-subtab__name[data-tabname=questions] .dokerv-subtab__count").text(r),0==i&&0==r&&e(".dokerv-subtab").remove();var o=t.setting,n=t.setting.theme,a=t.setting.translate;o.allow_review_by_image||t.setting.allow_review_by_video||e(".dokerv-picture-fieldset-title").remove(),o.allow_review_by_image||e(".dokerv-picture-fieldset__container").remove(),o.allow_review_by_video||e(".dokerv-video-fieldset__container").remove(),o.hidden_star_when_no_review?e('.dokerv-prev-badge[data-number-of-reviews="0"]').each(function(){e(this).parent(".dokerv-preview-badge").hide()}):e(".dokerv-preview-badge").each(function(){0==e(this).find(".dokerv-prev-badge").length&&e(this).html(dkrv.templates.no_review_badge())}),n.show_title_review||e(".dokerv-rev__title").hide(),n.show_timestamp_review||e(".dokerv-rev__timestamp").hide(),n.show_author_review||e(".dokerv-rev__author").hide(),n.show_images_review||e(".dokerv-rev__pics").hide(),n.show_video_review||e(".dokerv-rev__vids").hide(),n.show_sortBy||e(".dokerv-rev-widg__sort-wrapper").hide(),n.show_question_featured||(e(".dokerv-ask-question-btn").hide(),e(".dokerv-subtab__name[data-tabname=questions]").hide()),n.show_share_social||e(".dokerv-rev__social").hide(),n.show_like_dislike||e(".dokerv-rev__votes").hide(),n.show_reply||e(".dokerv-quest__answers").hide();var s="<style>.dokerv-star{color:"+n.color_star+"!important}";if(s+=".dokerv-rev__icon::after,.dokerv-rev__buyer-badge{background-color:"+n.color_verified_buyer+"!important}",s+=".dokerv-histogram__bar-content{background: "+n.color_histogram+"!important}",s+=".dokerv-rev__icon{background-color: "+n.color_bg_avatar+"!important}",s+='.dokerv-rev__buyer-badge:before{content:"'+a.widget_title_verified+'"!important}',e(".dokerv-rev__replier").each(function(){""==e(this).text()&&e(this).text(a.widget_title_shopReply)}),n.show_verified_buyer&&(s+=".dokerv-rev[data-verified-buyer=true] .dokerv-rev__icon::after, .dokerv-rev[data-verified-buyer=true] .dokerv-rev__buyer-badge{display: inline-block !important}"),e(s+="</style>").appendTo("head"),t.setting.custom_css&&e("<style>"+t.setting.custom_css+"</style>").appendTo("body"),e(".dokerv-rev-widg__title").text(a.widget_title),e(".dokerv-rev-widg__summary-text").text(a.widget_des_short.replace("{reviews}",e(".dokerv-rev-widg").attr("data-number-of-reviews"))),e(".dokerv-write-rev-link").text(a.widget_btn_review),e(".dokerv-ask-question-btn").text(a.widget_btn_question),e(".dokerv-subtab").length>0&&(e(".dokerv-subtab__name[data-tabname=reviews]")[0].childNodes[0].nodeValue=a.widget_title_tab_review,e(".dokerv-subtab__name[data-tabname=questions]")[0].childNodes[0].nodeValue=a.widget_title_tab_question),n.show_sortBy){var d=0,l={},u=["most-recent","highest-rating","lowest-rating","with-pictures","pictures-first","videos-first","most-helpful"];u.forEach(function(e){l[e.replace("-","_")]=a[e.replace("-","_")]}),u.forEach(function(t){e(".dokerv-sort-dropdown option[value="+t+"]").text(l[t.replace("-","_")].title),l[t.replace("-","_")].status||(e(".dokerv-sort-dropdown option[value="+t+"]").remove(),d++)}),d==u.length?e(".dokerv-rev-widg__sort-wrapper").hide():e(".dokerv-sort-dropdown option").eq(0).prop("selected",!0)}e(".dokerv-form .dokerv-form__name-fieldset label").text(a.form_review_label_name),e(".dokerv-form .dokerv-form__email-fieldset label").text(a.form_review_label_email),e(".dokerv-form .dokerv-form__phone-fieldset label").text(a.form_review_label_phone),e(".dokerv-form .dokerv-form__rating-fieldset label").text(a.form_review_label_rating),e(".dokerv-form .dokerv-form__avatar-customer label").text(a.form_review_label_avatar),e(".dokerv-form .dokerv-form__title-fieldset label").text(a.form_review_label_title),e(".dokerv-form .dokerv-form__body-fieldset label").text(a.form_review_label_body),e(".dokerv-form .dokerv-picture-fieldset-title").text(a.form_review_label_images_video),e(".dokerv-form .dokerv-submit-rev").val(a.form_review_btn_submit),e(".dokerv-question-form .dokerv-form__name-fieldset label").text(a.form_question_label_name),e(".dokerv-question-form .dokerv-form__email-fieldset label").text(a.form_question_label_email),e(".dokerv-question-form .dokerv-form__phone-fieldset label").text(a.form_question_label_phone),e(".dokerv-question-form .dokerv-form__question-fieldset label").text(a.form_question_label_title),e(".dokerv-question-form .dokerv-submit-question").val(a.form_question_btn_submit)},init_DOM:function(){this.LIMIT=dkrv.SETTING.theme.pagination||5,window.dkrvSetting&&null!=window.dkrvSetting.theme&&window.dkrvSetting.theme.pagination&&(this.LIMIT=window.dkrvSetting.theme.pagination),this.PAGE=1,this.LIMIT_QUES=5,this.PAGE_QUES=1,this.p=e("#doke_product_reviews"),this.c=e("#doke_product_reviews *"),this.t=this.p.find("form.dokerv-form"),this.ID=this.p.attr("data-id"),this.PICS=[],this.VIDS=[],this.AVA=""},checkReviewExist:function(e){var t=this,i=t.p;0==this.c.length?(t.p.html(dkrv.templates.noReviewForm()),t.load_sort_by(),t.load_form_review(t),t.load_form_question(),dkrv.SETTING.theme.show_question_featured&&t.p.length>0&&t.ajaxLoadQuestions("time","dsc"),"function"==typeof e&&e(t),i.find(".dokerv-rev-widg").show()):(t.ajaxLoadReviews("time","dsc","true",void 0,void 0,void 0,function(){"function"==typeof e&&e(t)}),dkrv.SETTING.theme.show_question_featured&&t.ajaxLoadQuestions("time","dsc"),"function"==typeof e&&e(t))},ajaxLoadReviews:function(t,i,r,o,n,a,s){var d=this.p,l=this;console.log(d);var u=d.attr("data-id"),v=null!=o?"&filter[star]="+o:"",c=null!=n?"&filter[hasPictures]="+n:"",h=null!=a?"&filter[hasVideos]="+a:"",p=!1,m=dkrv.API+"/pages/reviews";e("#dokerv_all_reviews_page").length>0?(p=!0,m=dkrv.API+"/pages/top-reviews",this.p=e("#dokerv_all_reviews_page"),d=e("#dokerv_all_reviews_page"),m+="?shop_name="+dkrv.shopName+"&order="+t+"&dir="+i+"&limit="+l.LIMIT+"&page="+l.PAGE+"&full_page=true"+v+c+h):m+="?shop_name="+dkrv.shopName+"&product_id="+u+"&order="+t+"&dir="+i+"&limit="+l.LIMIT+"&page="+l.PAGE+"&full_page="+r+v+c+h,dkrv.common.getReviews(m,function(){d.find(".dokerv-subtab__name[data-tabname=reviews]").trigger("click"),d.find(".dokerv-rev-widg__body").addClass("loading"),e(".dokerv-rev-widg__paginate-spinner-wrapper").show(),e(d).find(".dokerv-rev-widg__body").length>0&&"false"==r&&e("html, body").animate({scrollTop:e(d).find(".dokerv-rev-widg__body").offset().top-150},300)},function(t,i,o){if(204==o.status)e(".dokerv-rev-widg").hide(),console.log("DOKE Reviews Disabled!!");else if(200==o.status){if("true"==r)dkrv.SETTING.theme.pagination>5&&d.html(t);else if(p){var n=e.parseHTML(t);null!==n&&d.find(".dokerv-all-reviews__body").html(e(n).find(".dokerv-all-reviews__body").html())}else d.find(".dokerv-rev-widg__body").html(t);l.lazy_load(),l.load_timestamp(),setTimeout(function(){dkrv.widget_type.init(d)},400),l.load_sort_by(),l.load_form_review(l),l.load_form_question(),l.img_review_popup(),l.popup_img_rotate(),"function"==typeof s&&s(t),setTimeout(function(){e(".dokerv-rev-widg__paginate-spinner-wrapper").hide(),e(".dokerv-rev-widg__body").show().removeClass("loading")},500),l.PAGE=1,d.find(".dokerv-rev-widg").show()}else console.log("Error: "+i)})},ajaxLoadQuestions:function(t,i){var r=this.p,o=this,n=r.attr("data-id"),a=dkrv.API+"/pages/questions?shop_name="+dkrv.shopName+"&product_id="+n+"&order="+t+"&dir="+i+"&limit="+o.LIMIT_QUES+"&page="+o.PAGE_QUES;e.ajax({url:a,type:"get",beforeSend:function(){e(".dokerv-rev-widg__paginate-spinner-wrapper").show()},success:function(t,status, xhr){if (xhr.status == 204){ $('.dokerv-widget').hide() };var i=e.parseHTML(t);null!==i&&r.find(".dokerv-subtab__name[data-tabname=questions] .dokerv-subtab__count").text(e(i).attr("data-count")),r.find(".dokerv-quest-widg__body").html(t),o.load_timestamp(),e(".dokerv-rev-widg__paginate-spinner-wrapper").hide(),o.PAGE_QUES=1}})},lazy_load:function(){e(".dokerv-rev__pic-img").each(function(){e(this).attr("src",e(this).attr("data-src")).parent().removeClass("dokerv--loading")})},load_timestamp:function(){jQuery.timeago.settings.suffixAgo="trước",e(".dokerv-rev__timestamp").each(function(){var t=e(this).attr("data-content");t&&e(this).text(jQuery.timeago(t)).removeClass("dokerv-spinner")})},load_sort_by:function(){0==this.p.find(".dokerv-rev-widg__sort-wrapper *").length&&this.p.find(".dokerv-rev-widg__sort-wrapper").html(dkrv.templates.sortDropdown())},load_form_review:function(t){var i=t;0==i.p.find(".dokerv-form-wrapper").length&&(e(dkrv.templates.review_form()).insertAfter(i.p.find(".dokerv-rev-widg__sort-wrapper")),window.dkrvAccount&&(e(".dokerv-form__name-fieldset input[name=reviewer_name]").val(window.dkrvAccount.customer_name),e(".dokerv-form__email-fieldset input[name=reviewer_email]").val(window.dkrvAccount.customer_email),e(".dokerv-form__phone-fieldset input[name=reviewer_phone]").val(window.dkrvAccount.customer_phone)))},load_form_question:function(){var t=this;0==t.p.find(".dokerv-question-form-wrapper").length&&(t.p.find(".dokerv-rev-widg__header").append(dkrv.templates.question_form()),window.dkrvAccount&&(e(".dokerv-form__name-fieldset input[name=reviewer_name]").val(window.dkrvAccount.customer_name),e(".dokerv-form__email-fieldset input[name=reviewer_email]").val(window.dkrvAccount.customer_email),e(".dokerv-form__phone-fieldset input[name=reviewer_phone]").val(window.dkrvAccount.customer_phone)),t.p.on("click",".dokerv-ask-question-btn",function(i){i.preventDefault(),t.p.find(".dokerv-form-wrapper").hide(),e(".dokerv-question-form-wrapper").stop().toggle()})),t.p.on("keyup","textarea[name=question_content]",function(){e(this).prev(".dokerv-countdown").text("("+(1500-this.value.length)+")")})},subtab_event:function(){var t=this;e(document).on("click",".dokerv-subtab__name",function(i){e(this).addClass("dokerv--active").siblings().removeClass("dokerv--active"),"reviews"==e(this).attr("data-tabname")?(e(".dokerv-rev-widg__body").show(),e(".dokerv-quest-widg__body").hide()):(e(".dokerv-quest-widg__body").show(),e(".dokerv-rev-widg__body").hide(),0==t.p.find(".dokerv-quest-widg__body *").length&&t.ajaxLoadQuestions("time","dsc")),e(".dokerv-rev-widg__paginate-spinner-wrapper").hide()})},filter_review_histogram:function(){var t=this;e(document).on("click",".dokerv-histogram__row",function(){e(this).addClass("dokerv-histogram__row--selected").siblings().removeClass("dokerv-histogram__row--selected"),e(this).parent().find(".dokerv-histogram__clear-filter").text("Xem tất cả đánh giá").show();var i=e(this).attr("data-rating"),r=t.p.find(".dokerv-sort-dropdown").val();null==r&&(r="most-recent"),"null"!=i?t.loadReviewsBySort(r,i):(t.loadReviewsBySort(r,void 0),e(this).hide())})},loadReviewsBySort:function(e,t){var i="";switch(i=null!=t&&null!=t?t:void 0,e){case"most-recent":this.ajaxLoadReviews("time","dsc","false",i);break;case"highest-rating":this.ajaxLoadReviews("star","dsc","false",i);break;case"lowest-rating":this.ajaxLoadReviews("star","asc","false",i);break;case"with-pictures":this.ajaxLoadReviews("time","dsc","false",i,!0,!1);break;case"pictures-first":this.ajaxLoadReviews("picture","dsc","false",i);break;case"videos-first":this.ajaxLoadReviews("video","dsc","false",i);break;case"most-helpful":this.ajaxLoadReviews("like","dsc","false",i);break;default:this.ajaxLoadReviews("time","dsc","false",i)}},sortBy:function(){var t=this;e(document).on("change",".dokerv-sort-dropdown",function(){var i=e(this).val(),r=t.p.find(".dokerv-histogram__row.dokerv-histogram__row--selected").attr("data-rating");"null"!=r&&null!=r?t.loadReviewsBySort(i,r):t.loadReviewsBySort(i,null)})},img_review_popup:function(){e(".dokerv-rev__pic-link").magnificPopup({type:"image",image:{cursor:null,markup:'<div id="mfp-share"><button title="Rotate left" class="mfp-rotate-btn mfp-rotate-btn__left" data-rotation="-90">&#x27f2;</button><button title="Rotate right" class="mfp-rotate-btn mfp-rotate-btn__right" data-rotation="+90">&#x27f3;</button></div><div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},tLoading:"",gallery:{enabled:!0,preload:[1,10],tCounter:"<a href='https://doke.vn' class='dokerv-branding-footer'>Powered by Doke.vn</a> <span class='mfp-counter__number'>%curr% / %total%</span>"},zoom:{enabled:!0,duration:200},callbacks:{open:function(){return e("body").addClass("mfp-is-open")},close:function(){return e("body").removeClass("mfp-is-open")}}})},popup_img_rotate:function(){e(document).on("click",".mfp-rotate-btn",function(){var t,i;return t=e(".mfp-figure .mfp-img"),i=parseInt(e(this).attr("data-rotation"))+parseInt(t.attr("data-rotation")||0),t.attr("data-rotation",i),t.css("transform","rotate("+i+"deg)")})},setup_pagination:function(){var t=this;e(document).on("click",".dokerv-paginate__page",function(i){i.preventDefault();var r=e(this).attr("data-page");t.PAGE=r;var o=t.p.find(".dokerv-sort-dropdown").val(),n=t.p.find(".dokerv-histogram__row.dokerv-histogram__row--selected").attr("data-rating");"null"!=n&&null!=n?t.loadReviewsBySort(o,n):t.loadReviewsBySort(o,null)}),e(document).on("click",".dokerv-quest-widg__body .dokerv-paginate__page",function(i){i.preventDefault();var r=e(this).attr("data-page");t.PAGE_QUES=r,t.ajaxLoadQuestions("time","dsc")})},selectAvatar:function(){var t=this;this.p,this.t.find(".dokerv-avatar-fieldset__input");var i=[];e(document).on("change",".dokerv-avatar-fieldset__input[name=avatar]",function(){var r,o=e(this),n=(o.attr("name"),e.map(this.files,function(e){return e}));if(i.length<1)for(var a=1-i.length,s=[],d=0;d<a;d++)d<n.length&&(r=2,n[d].size/1024/1024>r?alert("Hình "+n[d].name+" tải lên quá lớn, bạn vui lòng chọn hình ảnh nhỏ hơn 2Mb."):(i.push(n[d]),s.push(n[d])));if(0!=i.length){var l=dkrv.API+"/api/files/photos?shop_name="+dkrv.shopName+"&product_id="+t.ID,u=new FormData,v=o.prop("files"),c=["image/gif","image/png","image/jpg","image/jpeg"],h=0;for(d=0;d<v.length;d++){var p=v[d].type;p==c[0]||p==c[1]||p==c[2]||p==c[3]?(u.append("photos",v[d]),h++):alert(v[d].name+" không phải là tập tin hình ảnh. Vui lòng chọn lại!")}if(h>0){var m={url:l,type:"POST",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(e){100==Math.floor(e.loaded/e.total*100)&&console.log("Upload Avatar Done!!")},t},processData:!1,contentType:!1,mimeType:"multipart/form-data",data:u};e.ajax(m).done(function(i){var r=e.parseJSON(i);r&&0!=r.result.mediaLinks.length?r.result.mediaLinks.forEach(function(e){t.AVA=e}):alert("Vui lòng chọn đúng định dạng hình ảnh")})}}})},selectImages:function(){var t=this,i=this.p;this.t.find(".dokerv-picture-fieldset__input");function r(e,t){1==t?e.show():e.hide()}var o=[];e(document).on("change",".dokerv-picture-fieldset__input[name=pictures]",function(){var n,a=e(this),s=(a.attr("name"),e.map(this.files,function(e){return e}));if(o.length+s.length>5&&alert("Bạn chỉ được tải lên tối đa 5 hình ảnh!"),o.length<5){for(var d=5-o.length,l=[],u=0;u<d;u++)u<s.length&&(n=5,s[u].size/1024/1024>n?alert("Hình "+s[u].name+" tải lên quá lớn, bạn vui lòng chọn hình ảnh nhỏ hơn 5Mb."):(o.push(s[u]),l.push(s[u])));!function(t){for(var r,o=0;r=t[o];o++)if(r.type.match("image.*")){var n=new FileReader;n.onload=function(t){var r=e(dkrv.templates.picture_box());r.find(".dokerv-picture-fieldset__box-wrapper").attr("style","background-image:url("+t.target.result+")"),i.find(".dokerv-picture-fieldset__input").parents(".dokerv-picture-fieldset__container").append(r)},n.readAsDataURL(r)}}(l)}else alert("Bạn chỉ được tải lên tối đa 5 hình ảnh!");if(o.length>=5?r(a.parents("label"),!1):r(a.parents("label"),!0),0!=o.length){var v=dkrv.API+"/api/files/photos?shop_name="+dkrv.shopName+"&product_id="+t.ID,c=new FormData,h=a.prop("files"),p=["image/gif","image/png","image/jpg","image/jpeg"],m=0;for(u=0;u<h.length;u++){var f=h[u].type;f==p[0]||f==p[1]||f==p[2]||f==p[3]?(c.append("photos",h[u]),m++):alert(h[u].name+" không phải là tập tin hình ảnh. Vui lòng chọn lại!")}if(m>0){var g={url:v,type:"POST",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(t){100==Math.floor(t.loaded/t.total*100)&&e(".dokerv-picture-fieldset__container .dokerv-picture-fieldset__box-wrapper").addClass("dokerv-has-preview-image").addClass("dokerv-has-preview-image--pictures").removeClass("dokerv-is-uploading-picture")},t},processData:!1,contentType:!1,mimeType:"multipart/form-data",data:c};e.ajax(g).done(function(i){var r=e.parseJSON(i);r&&0!=r.result.mediaLinks.length?r.result.mediaLinks.forEach(function(e){t.PICS.length<5&&t.PICS.push(e)}):alert("Vui lòng chọn đúng định dạng hình ảnh")})}}}),e(document).on("click",".dokerv-picture-fieldset__container .dokerv-picture-fieldset__box .dokerv-close-ico",function(i){i.preventDefault();var n=e(this).parents(".dokerv-picture-fieldset__box"),a=n.index()-1;o.splice(a,1),t.PICS.splice(a,1),o.length>=5?r(e(this).parents(".dokerv-picture-fieldset__container").find("label"),!1):r(e(this).parents(".dokerv-picture-fieldset__container").find("label"),!0),n.remove()})},selectVideo:function(){var t=this,i=this.p;this.t.find(".dokerv-picture-fieldset__input");function r(e,t){1==t?(e.show(),e.find(".dokerv-picture-fieldset__box-wrapper").removeClass("dokerv-has-preview-image--videos")):e.hide()}var o=[];e(document).on("change",".dokerv-picture-fieldset__input[name=video]",function(){var n,a,s=e(this),d=(s.attr("name"),e.map(this.files,function(e){return e}));if(o.length<1){for(var l=1-o.length,u=[],v=0;v<l;v++)v<d.length&&(a=5,d[v].size/1024/1024>a?alert("Video "+d[v].name+" tải lên quá lớn, bạn vui lòng chọn video nhỏ hơn 5Mb."):(o.push(d[v]),u.push(d[v])));(n=e(dkrv.templates.picture_box())).find(".dokerv-picture-fieldset__box-wrapper").addClass("dokerv-has-preview-image--videos"),i.find(".dokerv-picture-fieldset__input").parents(".dokerv-video-fieldset__container").append(n)}else alert("Bạn chỉ được tải lên tối đa 1 video!");if(o.length>=1?r(s.parents("label"),!1):r(s.parents("label"),!0),0!=o.length){var c=dkrv.API+"/api/files/videos?shop_name="+dkrv.shopName+"&product_id="+t.ID,h=new FormData,p=s.prop("files"),m=["video/mov","video/mp4","video/x-m4v","video/*"],f=0;for(v=0;v<p.length;v++){var g=p[v].type;g==m[0]||g==m[1]||g==m[2]||g==m[3]?(h.append("videos",p[v]),f++):alert(p[v].name+" không phải là tập tin video. Vui lòng chọn lại!")}if(f>0){var _={url:c,type:"POST",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(t){var i=Math.floor(t.loaded/t.total*100);e(".dokerv-video-fieldset__container").find(".dokerv-picture-fieldset__progress-text").text(i+"%"),100==i&&e(".dokerv-video-fieldset__container .dokerv-picture-fieldset__box-wrapper").addClass("dokerv-has-preview-image").addClass("dokerv-has-preview-image--videos").removeClass("dokerv-is-uploading-picture")},t},processData:!1,contentType:!1,mimeType:"multipart/form-data",data:h};e.ajax(_).done(function(i){var r=e.parseJSON(i);r&&0!=r.result.mediaLinks.length?r.result.mediaLinks.forEach(function(e){t.VIDS.push(e)}):alert("Vui lòng chọn đúng định dạng video")})}}}),e(document).on("click",".dokerv-video-fieldset__container .dokerv-picture-fieldset__box .dokerv-close-ico",function(i){i.preventDefault();var n=e(this).parents(".dokerv-picture-fieldset__box"),a=n.index()-1;o.splice(a,1),t.PICS.splice(a,1),o.length>=1?r(e(this).parents(".dokerv-video-fieldset__container").find("label"),!1):r(e(this).parents(".dokerv-video-fieldset__container").find("label"),!0),n.remove()})},submitReview:function(){var t=this,i=this.p;this.t;this.p.on("submit",".dokerv-form",function(r){return e(this).validate({onkeyup:!0,rules:{reviewer_name:"required",reviewer_email:{required:!0,email:!0},reviewer_phone:{number:!0,regex:/((09|03|07|08|05)+([0-9]{8})\b)/g},review_title:{maxlength:100},review_body:{required:!0,maxlength:1500}},messages:{reviewer_name:"Vui lòng nhập tên của bạn",reviewer_email:{required:"Vui lòng nhập email của bạn",email:"Email chưa đúng định dạng"},reviewer_phone:{number:"Số điện thoại không bao gồm chữ",regex:"Số điện thoại chưa đúng định dạng"},review_title:{maxlength:"Vui lòng nhập không quá 100 ký tự."},review_body:{required:"Vui lòng nhập đánh giá",maxlength:"Vui lòng nhập không quá 1500 ký tự."}},submitHandler:function(r){var o=i.attr("data-id");i.attr("data-product-title"),i.attr("data-url");e(r).find(".dokerv-submit-rev").prop("disabled","disabled");var n={name:e(r).find("input[name=reviewer_name]").val(),email:e(r).find("input[name=reviewer_email]").val(),phone_number:e(r).find("input[name=reviewer_phone]").val(),star:e(r).find("input[name=score]").val(),title:e(r).find("input[name=review_title]").val(),content:e(r).find("textarea[name=review_body]").val(),pictures:t.PICS,videos:t.VIDS,avatar:t.AVA};e.ajax({url:dkrv.API+"/api/reviews?shop_name="+dkrv.shopName+"&product_id="+o,type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(n),success:function(t){t&&"Saving successful!"==t.success.message?(i.find(".dokerv-form-wrapper").slideUp(),e(dkrv.templates.success_form()).text(dkrv.SETTING.translate.form_review_success).insertBefore(i.find(".dokerv-form-wrapper")),i.find(".dokerv-ask-question-btn").hide(),i.find(".dokerv-write-rev-link").text("Làm mới trang").off("click").on("click",function(t){return t.preventDefault(),e(".dokerv-question-form-wrapper").hide(),e(".dokerv-form-wrapper").hide(),window.location=window.location.pathname}),e("html, body").animate({scrollTop:e(i).offset().top},300)):alert("Xin lỗi có gì đó không ổn, đánh giá chưa thể gửi được!!")}})}}),r.preventDefault(),e(this).trigger("submit"),!1})},submitQuestion:function(){var t=this.p;this.t;this.p.on("submit",".dokerv-question-form",function(i){return e(this).validate({onkeyup:!0,rules:{reviewer_name:"required",reviewer_email:{required:!0,email:!0},reviewer_phone:{number:!0,regex:/((09|03|07|08|05)+([0-9]{8})\b)/g},question_content:{required:!0,maxlength:1500}},messages:{reviewer_name:"Vui lòng nhập tên của bạn",reviewer_email:{required:"Vui lòng nhập email của bạn",email:"Email chưa đúng định dạng"},reviewer_phone:{number:"Số điện thoại không bao gồm chữ",regex:"Số điện thoại chưa đúng định dạng"},question_content:{required:"Vui lòng nhập câu hỏi",maxlength:"Vui lòng nhập không quá 1500 ký tự."}},submitHandler:function(i){var r=t.attr("data-id"),o=t.attr("data-product-title"),n=t.attr("data-url");e(i).find(".dokerv-submit-question").prop("disabled","disabled");var a={name:e(i).find("input[name=reviewer_name]").val(),email:e(i).find("input[name=reviewer_email]").val(),phone_number:e(i).find("input[name=reviewer_phone]").val(),content:e(i).find("textarea[name=question_content]").val(),hrv_product_title:o,hrv_product_handle:n};e.ajax({url:dkrv.API+"/api/questions?shop_name="+dkrv.shopName+"&product_id="+r,type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(a),success:function(i){i&&"Saving successful!"==i.success.message&&(t.find(".dokerv-question-form-wrapper").slideUp(),e(dkrv.templates.success_form_question()).text(dkrv.SETTING.translate.form_question_success).insertBefore(t.find(".dokerv-question-form-wrapper")),t.find(".dokerv-ask-question-btn").hide(),t.find(".dokerv-write-rev-link").text("Làm mới trang").off().on("click",function(){return window.location=window.location.pathname}),e("html, body").animate({scrollTop:e(t).offset().top},300))}})}}),i.preventDefault(),e(this).trigger("submit"),!1})},submitReply:function(t,i,r,o){var n=this.p.attr("data-id"),a={reply_name:i,reply_content:r,datetime:(new Date).toISOString()};e.ajax({url:dkrv.API+"/api/reviews/reply?review_id="+t+"&product_id="+n+"&shop_name="+dkrv.shopName,type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(a),success:function(e){e&&"Saving successful!"==e.success.message?"function"==typeof o&&o():alert("Xin lỗi có gì đó không ổn, trả lời đánh giá chưa thể gửi được!!")}})},shareReviewFor:function(){var t=this.p;this.p.on("click",".dokerv-rev__share-btn",function(){for(var i=dkrv.shopURL,r=e(this).attr("data-social-media"),o=e(this).parents(".dokerv-rev"),n=o.find(".dokerv-rev__rating").attr("data-score"),a="",s=0;s<n;s++)a+="★";var d=o.find(".dokerv-rev__title").text(),l=o.find(".dokerv-rev__body > p").text(),u=encodeURIComponent(a+" "+d+" "+l),v=t.attr("data-img"),c=i+encodeURIComponent(v),h=i+encodeURIComponent(t.attr("data-url")),p=h+"&picture="+c+"&quote="+u,m="text="+u+"&url="+h;if("Facebook"==r){window.open("https://www.facebook.com/sharer/sharer.php?u="+p,"pop","width=600, height=400, scrollbars=no");return!1}if("Twitter"==r){window.open("http://twitter.com/intent/tweet?"+m,"pop","width=600, height=400, scrollbars=no");return!1}}),this.p.on("click",".dokerv-share-icon",function(t){t.preventDefault(),e(this).next(".dokerv-rev__social-inner").toggleClass("inline")})},likeReview:function(){var t=this.p.attr("data-id");e(document).on("click",".dokerv-popup__box .close",function(t){t.preventDefault(),e(this).parents(".dokerv-popup").remove()}),e("body").on("click",".dokerv-rev__thumb-btn",function(i){var r=e(this),o="up"==e(this).attr("data-thumb-vote")?"likes":"dislikes",n=e(this).closest(".dokerv-rev").attr("data-review-id");if(window.dkrvAccount){var a=dkrv.API+"/api/reviews/"+o+"?shop_name="+dkrv.shopName+"&product_id="+t+"&review_id="+n,s={customer_email:window.dkrvAccount.customer_email};try{e.ajax({url:a,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(s),success:function(e){if(e&&e.success){r.css("color","blue");var t=r.parents(".dokerv-rev__votes-inner").find(".dokerv-rev_thump-"+r.attr("data-thumb-vote")+"-count");t.text(Number(t.text())+1)}}})}catch(e){console.log(e)}}else e("body").append(e(dkrv.templates.popup_requestLogin()))})},quickReplyReview:function(){var t=this;e(document).on("click",".dokerv-rev__btn-reply",function(t){t.preventDefault(),window.dkrvAccount?(e(this).parents(".dokerv-rev").find(".dokerv-quick__reply").remove(),e(dkrv.templates.reply_form()).insertAfter(e(this).parents(".dokerv-rev__actions")).show()):(e("body").append(e(dkrv.templates.popup_requestLogin())),e(document).on("click",".dokerv-popup__box .close",function(t){t.preventDefault(),e(this).parents(".dokerv-popup").remove()}))}),e(document).on("click",".dokerv-hide__reply",function(t){t.preventDefault(),e(this).parent(".dokerv-quick__reply").remove()}),e(document).on("click",".dokerv-submit__reply",function(i){i.preventDefault();var r=e(this).parents(".dokerv-rev").attr("data-review-id"),o=e(this).parent(".dokerv-quick__reply"),n=window.dkrvAccount.customer_name,a=o.find(".dokerv-review__comment-content");""!=a.val()?t.submitReply(r,n,a.val(),function(){e('<div class="dokerv-notification">Cảm ơn bạn đã gửi trả lời! Vui lòng làm mới trang để xem đánh giá của bạn.</div>').insertBefore(o),o.remove()}):(a.addClass("error"),alert("Vui lòng nhập nội dung trả lời!!"))}),e(document).on("keyup",".dokerv-review__comment-content",function(){""!=e(this).val()?e(this).removeClass("error"):e(this).addClass("error")})},badgeReviewScroll:function(){e(document).on("click",".dokerv-preview-badge",function(){var t=e("#doke_product_reviews[data-id="+e(this).attr("data-id")+"]");if(t.length>0)e("html, body").animate({scrollTop:t.find(".dokerv-rev-widg__body").offset().top-150},300);else{var i=e(this).attr("data-url");window.location.href="/products/"+i+"#doke_product_reviews"}})}},dkrv.tab_review={init:function(){this.init_DOM(),this.setPositionTab(),this.showTab(),this.closeTab(),this.load_form_review(),this.submitReview()},init_DOM:function(){this.p=e("#dokerv_revs_tab")},load_form_review:function(){dkrv.product_review.load_form_review(this)},setPositionTab:function(){e(".dokerv-revs-tab-btn").attr("position","left")},showTab:function(){e(".dokerv-revs-tab-btn").click(function(){e(".dokerv-revs-tab__wrapper").addClass("dokerv-show")})},closeTab:function(){e(".dokerv-close-ico").click(function(){e(".dokerv-revs-tab__wrapper").removeClass("dokerv-show")}),e(".dokerv-mask").click(function(t){e(t.target).is(".dokerv-revs-tab__main")||e(".dokerv-revs-tab__wrapper").removeClass("dokerv-show")})},submitReview:function(){this.p,this.t;this.p.on("submit",".dokerv-form",function(t){return e(this).validate({onkeyup:!0,rules:{reviewer_name:"required",reviewer_email:{required:!0,email:!0},reviewer_phone:{number:!0,regex:/((09|03|07|08|05)+([0-9]{8})\b)/g},review_title:{maxlength:100},review_body:{required:!0,maxlength:1500}},messages:{reviewer_name:"Vui lòng nhập tên của bạn",reviewer_email:{required:"Vui lòng nhập email của bạn",email:"Email chưa đúng định dạng"},reviewer_phone:{number:"Số điện thoại không bao gồm chữ",regex:"Số điện thoại chưa đúng định dạng"},review_title:{maxlength:"Vui lòng nhập không quá 100 ký tự."},review_body:{required:"Vui lòng nhập đánh giá",maxlength:"Vui lòng nhập không quá 1500 ký tự."}},submitHandler:function(t){e(t).find(".dokerv-submit-rev").prop("disabled","disabled");e(t).find("input[name=reviewer_name]").val(),e(t).find("input[name=reviewer_email]").val(),e(t).find("input[name=reviewer_phone]").val(),e(t).find("input[name=score]").val(),e(t).find("input[name=review_title]").val(),e(t).find("textarea[name=review_body]").val();alert("submit review")}}),t.preventDefault(),e(this).trigger("submit"),!1})}},dkrv.page_all_reviews={init:function(){this.init_DOM(),this.load_form_review(),this.submitReview(),this.init_SETTING(),this.loadPageReviews()},init_DOM:function(){this.p=e("#dokerv_all_reviews_page")},load_form_review:function(){dkrv.product_review.load_form_review(this)},submitReview:function(){this.p,this.t;this.p.on("submit",".dokerv-form",function(t){return e(this).validate({onkeyup:!0,rules:{reviewer_name:"required",reviewer_email:{required:!0,email:!0},reviewer_phone:{number:!0,regex:/((09|03|07|08|05)+([0-9]{8})\b)/g},review_title:{maxlength:100},review_body:{required:!0,maxlength:1500}},messages:{reviewer_name:"Vui lòng nhập tên của bạn",reviewer_email:{required:"Vui lòng nhập email của bạn",email:"Email chưa đúng định dạng"},reviewer_phone:{number:"Số điện thoại không bao gồm chữ",regex:"Số điện thoại chưa đúng định dạng"},review_title:{maxlength:"Vui lòng nhập không quá 100 ký tự."},review_body:{required:"Vui lòng nhập đánh giá",maxlength:"Vui lòng nhập không quá 1500 ký tự."}},submitHandler:function(t){e(t).find(".dokerv-submit-rev").prop("disabled","disabled");e(t).find("input[name=reviewer_name]").val(),e(t).find("input[name=reviewer_email]").val(),e(t).find("input[name=reviewer_phone]").val(),e(t).find("input[name=score]").val(),e(t).find("input[name=review_title]").val(),e(t).find("textarea[name=review_body]").val();alert("submit review")}}),t.preventDefault(),e(this).trigger("submit"),!1})},init_SETTING:function(){this.QUANTITY=5},loadPageReviews:function(){var t=this,i=dkrv.API+"/pages/top-reviews?shop_name="+dkrv.shopName+"&limit="+this.QUANTITY+"&order=star&dir=dsc&page=1&full_page=true";e.ajax({url:i,type:"get",beforeSend:function(){},success:function(i){e(".dokerv-all-reviews-page").html(i),t.load_timestamp(),dkrv.product_review.lazy_load(),dkrv.product_review.img_review_popup(),dkrv.product_review.popup_img_rotate()}})},load_timestamp:function(){jQuery.timeago.settings.suffixAgo="trước",e(".dokerv-all-reviews-page .dokerv-rev__timestamp").each(function(){var t=e(this).attr("data-content");t&&e(this).text(jQuery.timeago(t)).removeClass("dokerv-spinner")})}},dkrv.page_slider={init:function(){this.init_SETTING(),this.loadPageReviews()},init_SETTING:function(){this.QUANTITY=100},loadPageReviews:function(){var t=this,i=dkrv.API+"/pages/top-reviews?shop_name="+dkrv.shopName+"&limit="+this.QUANTITY+"&order=star&dir=dsc&page=1&full_page=false";e.ajax({url:i,type:"get",beforeSend:function(){},success:function(i){e(".doke_page__reviews-slider").html(i),t.load_timestamp(),t.carousel()}})},load_timestamp:function(){jQuery.timeago.settings.suffixAgo="trước",e(".dokerv-carousel-item__timestamp").each(function(){var t=e(this).attr("data-time");t&&e(this).text(jQuery.timeago(t)).removeClass("dokerv-spinner")})},carousel:function(t){e(".dokerv-carousel__item-container").sliderResponsive({ratio:"keep",autoplay:"on",pause:5e3})}},dkrv.widget_type={init:function(e){this.init_SETTING(),this.selectType(e)},init_SETTING:function(){this.TYPE=dkrv.SETTING.theme.template||"default"},selectType:function(t){switch(this.TYPE){case"default":break;case"leex":e("<style>.dokerv-widget .dokerv-all-reviews__body,.dokerv-widget .dokerv-shop-reviews__body,.dokerv-widget .dokerv-revs-tab__content-body,.dokerv-widget .dokerv-rev-widg__body{margin-top:16px;padding-top:16px;border-top:1px solid #eee}.dokerv-widget .dokerv-subtab ~ .dokerv-shop-reviews__body,.dokerv-widget .dokerv-subtab ~ .dokerv-all-reviews__body,.dokerv-widget .dokerv-subtab ~ .dokerv-revs-tab__content-body,.dokerv-widget .dokerv-subtab+.dokerv-rev-widg__body{border-top:0;margin-top:0}.dokerv-widget .dokerv-rev-widg[data-number-of-reviews='0'] .dokerv-all-reviews__body,.dokerv-widget .dokerv-rev-widg[data-number-of-reviews='0'] .dokerv-rev-widg__body{margin-top:0;padding-top:0;border:none}.dokerv-widget .dokerv-rev-widg[data-number-of-reviews='0'] .dokerv-all-reviews__body:before,.dokerv-widget .dokerv-rev-widg[data-number-of-reviews='0'] .dokerv-rev-widg__reviews:before{content:'';display:none}.dokerv-widget .dokerv-revs-tab__reviews:after,.dokerv-widget .dokerv-all-reviews__body:after,.dokerv-widget .dokerv-rev-widg__reviews:after{content:' ';clear:both;display:table}.dokerv-widget .dokerv-paginate{padding-top:0}.dokerv-widget .dokerv-all-reviews__body:before,.dokerv-widget .dokerv-rev-widg__reviews:before{content:' ';display:block;margin:auto;width:40px;height:40px;border-radius:50%;border-top:2px solid #eee;border-right:2px solid #eee;border-bottom:2px solid #eee;border-left:2px solid #ccc;-webkit-animation:dokerv-spin .8s infinite linear;animation:dokerv-spin .8s infinite linear}.dokerv--leex-script-loaded .dokerv-all-reviews__body:before,.dokerv--leex-script-loaded .dokerv-rev-widg__reviews:before{display:none}.dokerv-rev__pics .dokerv-rev_all-rev-page-picture-separator{display:none}.dokerv-rev:not(.dokerv--leex-done-setup){display:none}.dokerv-rev.dokerv-rev{float:left;width:calc(33.3% - 11px);padding:0;margin:0 0 16px;border-radius:2px;border:1px solid;border-color:#e5e6e9 #dfe0e4 #d0d1d5;background:#fafafa;overflow:visible}.dokerv-rev.dokerv-rev:nth-of-type(3n){margin-right:0}.dokerv-rev .dokerv-rev__header .dokerv-rev__br,.dokerv-rev .dokerv-rev__icon,.dokerv-rev .dokerv-rev__prod-link-prefix{display:none}.dokerv-rev .dokerv-rev__rating,.dokerv-rev .dokerv-rev__author-wrapper,.dokerv-rev .dokerv-rev__prod-info-wrapper{display:block;width:100%}.dokerv-rev .dokerv-rev__location{display:block;margin:2px 0}.dokerv-rev .dokerv-rev__header{margin:0;padding:12px 16px 0}.dokerv-rev .dokerv-rev__author-wrapper{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dokerv-rev .dokerv-rev__timestamp{margin-left:0;font-size:12px;line-height:16px}.dokerv-rev .dokerv-rev__timestamp.dokerv-spinner{width:16px;height:16px}.dokerv-rev .dokerv-rev__content{padding:12px 16px;overflow:hidden}.dokerv-rev .dokerv-rev__cf-ans:first-of-type{margin-top:0}.dokerv-rev .dokerv-rev__title{font-size:100%}.dokerv-rev>.dokerv-rev__pics{margin:0;overflow:hidden}.dokerv-rev .dokerv-rev__pic-link{width:100%;height:auto;margin:0}.dokerv-rev .dokerv-rev__pic-link ~ .dokerv-rev__pic-link{display:none}.dokerv-rev .dokerv-rev__pic-link.dokerv--loading{padding:0}.dokerv-rev .dokerv-rev__pic-link.dokerv--loading:after{content:none}.dokerv-rev .dokerv-rev__pic-img{position:static;-webkit-transform:none;-ms-transform:none;transform:none;top:0;width:100%;height:auto;max-height:none;border-radius:0}.dokerv-rev .dokerv-rev__reply{border:none;padding:0 16px;background:#e9e9e9}.dokerv-rev .dokerv-rev__replier-wrapper{margin-top:0}.dokerv-rev .dokerv-rev__reply-content{margin-bottom:0}.dokerv-rev .dokerv-rev__prod-info-wrapper{padding:12px 16px;border-top:1px solid #e5e5e5;font-size:90%}.dokerv-rev .dokerv-rev__social-inner,.dokerv-rev .dokerv-rev__votes-inner{margin:0;padding:0 12px 12px}.dokerv-rev__reply-review{margin-left:15px!important;margin-right:15px!important}.dokerv-rev__votes-text,.dokerv-share-icon,.dokerv-rev__share-line,.dokerv-rev__line{display:none!important}.dokerv-rev__share-btn span{display:none!important}.dokerv-rev__social-inner{display:block!important}span.dokerv-rev__timestamp{display:block;width:100%}.dokerv-buyer-badge--top-right .dokerv-rev .dokerv-rev__buyer-badge{font-size:11px}.dokerv-revs-tab__content .dokerv-rev.dokerv-rev:first-child{border-top:1px solid #e5e6e9}.dokerv-review-widget--medium .dokerv-rev.dokerv-rev{width:calc(50% - 8px)}.dokerv-review-widget--small .dokerv-rev.dokerv-rev{width:100%}.dokerv-revs-tab__wrapper .dokerv-rev.dokerv-rev{width:calc(50% - 8px)}@media only screen and (max-width: 991px){.dokerv-rev.dokerv-rev{width:calc(50% - 8px)}}@media only screen and (max-width: 575px){.dokerv-widget .dokerv-rev.dokerv-rev{width:100%}}</style>").appendTo("head"),this.leex(t);break;case"align":e("<style>.dokerv-rev__header{display:inline-block;width:20%;float:left;text-align:center}.dokerv-rev .dokerv-rev__content,.dokerv-rev .dokerv-rev__reply{display:inline-block;float:left;margin-left:0!important}.dokerv-rev .dokerv-rev__title{display:inline-block!important;margin-left:10px}@media only screen and (min-width: 768px){.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-histogram{margin:16px 0 0;padding:0 50% 0 34%;border:none}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-rev-widg__sort-wrapper{position:relative}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-sort-dropdown-wrapper{position:absolute;bottom:0;float:left}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-rev-widg__title{text-align:center;margin-bottom:0}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-rev-widg__summary{float:none;width:100%;text-align:center}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-rev-widg__header{text-align:center}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-histogram,.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-form-wrapper,.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-question-form-wrapper{text-align:left}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-ask-question-btn,.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-write-rev-link{display:inline-block;float:none;margin-top:12px}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-ask-question-btn{margin-left:8px}.dokerv-review-widget:not(.dokerv-review-widget--medium) .dokerv-rev-widg__summary-text{margin:4px 0}}.dokerv-form.dokerv-form .dokerv-form__name-fieldset,.dokerv-form.dokerv-form .dokerv-form__email-fieldset,.dokerv-form.dokerv-form .dokerv-form__rating-fieldset,.dokerv-form.dokerv-form .dokerv-form__title-fieldset,.dokerv-form.dokerv-form .dokerv-form__body-fieldset{padding-top:16px}.dokerv-form.dokerv-form .dokerv-form__name-fieldset label,.dokerv-form.dokerv-form .dokerv-form__email-fieldset label,.dokerv-form.dokerv-form .dokerv-form__rating-fieldset label,.dokerv-form.dokerv-form .dokerv-form__title-fieldset label,.dokerv-form.dokerv-form .dokerv-form__body-fieldset label{}.dokerv-form.dokerv-form .dokerv-picture-fieldset-title{font-size:0}.dokerv-form.dokerv-form .dokerv-form__rating-fieldset{clear:both;font-size:130%;text-align:center}@media only screen and (min-width: 415px){.dokerv-form .dokerv-form__name-fieldset,.dokerv-form .dokerv-form__email-fieldset{}.dokerv-form .dokerv-form__email-fieldset{margin-left:0}.dokerv-rev .dokerv-rev__icon{margin:auto;float:none;width:65px;height:65px;line-height:65px;margin-bottom:10px}.dokerv-rev__timestamp{margin-left:0}.dokerv-rev .dokerv-rev__timestamp ~ .dokerv-rev__br{float:left;padding-left:0;height:1px;opacity:0}.dokerv-rev .dokerv-rev__rating{font-size:14px}.dokerv-rev .dokerv-rev__timestamp{display:block}.dokerv-rev .dokerv-rev__timestamp.dokerv-spinner{margin-top:3px}.dokerv-rev .dokerv-rev__buyer-badge-wrapper{float:none;display:block;margin-right:4px}.dokerv-rev .dokerv-rev__author-wrapper{}.dokerv-rev .dokerv-rev__content,.dokerv-rev .dokerv-rev__actions{width:80%;margin-left:20%}.dokerv-rev .dokerv-rev__reply{width:100%}.dokerv-rev .dokerv-rev__title{margin-bottom:5px;font-size:120%}.dokerv-review-widget--medium .dokerv-rev .dokerv-rev__timestamp{margin-left:0;margin-top:24px}.dokerv-buyer-badge--right-of-timestamp .dokerv-rev .dokerv-rev__buyer-badge-wrapper{margin-left:0}}@media only screen and (max-width: 991px){.dokerv-rev .dokerv-rev__timestamp{margin-left:0;margin-top:24px}}@media only screen and (min-width: 415px){.dokerv-all-reviews__body .dokerv-rev,.dokerv-shop-reviews__body .dokerv-rev,.dokerv-revs-tab__reviews .dokerv-rev{margin:8px 0;padding-bottom:38px}.dokerv-rev__prod-info-wrapper{position:absolute;bottom:0;left:34%;right:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;border-top:1px solid #eee;padding-top:8px}}.dokerv-rev-extra-padding{margin:8px 0;padding-bottom:38px}@media only screen and (min-width: 768px){.dokerv-rev__pics .dokerv-rev_all-rev-page-picture-separator{display:none}.dokerv-rev__product-picture.dokerv-rev__pic-link{position:absolute;left:10px;top:40px}.dokerv-rev__product-picture .dokerv-rev__pic-img{margin:auto}}@media only screen and (min-width: 767px) and (max-width: 1000px){.dokerv-rev__product-picture.dokerv-rev__pic-link{top:60px}}</style>").appendTo("head"),this.align(t)}},leex:function(t){e("body").addClass("dokerv--leex-script-loaded"),t.find(".dokerv-rev").addClass("dokerv--leex-done-setup"),t.find(".dokerv-rev").each(function(){e(this).find(".dokerv-rev__pics").detach().insertBefore(e(this).find(".dokerv-rev__header")),e(this).find(".dokerv-rev__author-wrapper").first().detach().insertBefore(e(this).find(".dokerv-rev__icon")),e(this).find(".dokerv-rev__rating").detach().insertAfter(e(this).find(".dokerv-rev__timestamp").first()),e(this).find(".dokerv-rev__buyer-badge-wrapper").detach().insertAfter(e(this).find(".dokerv-rev__author").first())});var i=t.find(".dokerv-rev-widg__reviews").imagesLoaded(function(){i.masonry({itemSelector:".dokerv-rev",columnWidth:".dokerv-rev",gutter:16,transitionDuration:"0.25s"})})},align:function(t){t.find(".dokerv-rev").each(function(){e(this).find(".dokerv-rev__author-wrapper").detach().insertBefore(e(this).find(".dokerv-rev__timestamp")),e(this).find(".dokerv-rev__rating").detach().insertBefore(e(this).find(".dokerv-rev__title")),e(this).find(".dokerv-rev__buyer-badge-wrapper").detach().insertBefore(e(this).find(".dokerv-rev__body"))})}},e(document).ready(function(){dkrv.init()})}(jQuery)});